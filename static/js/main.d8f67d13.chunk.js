(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,t,n){e.exports=n(400)},244:function(e,t){},246:function(e,t){},284:function(e,t){},285:function(e,t){},399:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n.n(o),a=n(107),i=n.n(a),c=n(118),l=n(78),s=n(211),u=n(114),f={isLoading:!0},d={initialColors:[],selectedColors:[],randomColors:[]},h=Object(l.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_KEY":return Object.assign({},e,Object(u.a)({},t.key,t.value));default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":return Object.assign({},e,Object(u.a)({},t.key,t.value));default:return e}}}),m=function(){return Object(l.d)(h,{},Object(l.a)(s.a))},p=n(212),g=n(59),v=n(115),E={AUTH:"/auth",HOME:"/",PROJECT_HOME:"/color-palette-project"},y=n(213),b=n(214),w=n(230),C=n(215),x=n(231),S={BASE:"https://api.color.pizza/v1/"},O=function(e){return r.a.createElement("figure",{style:e.gridContainerStyle},r.a.createElement("figcaption",null,e.children))},k=n(229),j=function(e){function t(){var e,n;Object(y.a)(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).fetchDataHandler=function(e){return fetch(e).then(function(e){return e.json()}).then(function(t){Promise.resolve(localStorage.setItem(e,JSON.stringify(t.colors))).then(function(){return n.props.onSetData("initialColors",t.colors)})})},n.checkStorage=function(e){var t=localStorage.getItem(e),o=[];t=null!==t?n.props.onSetData("initialColors",JSON.parse(t)):n.fetchDataHandler(e),Promise.resolve(t).then(function(){o=n.randoms_func(),Promise.resolve(n.props.onSetData("randomColors",o))}).then(function(){return n.props.onSetKey("isLoading",!1)})},n.itemSelectedHandler=function(e){var t=n.props.selectedColors.find(function(t){return t.hex===e}),o=n.props.selectedColors;if(void 0!==t)o=o.filter(function(t){return t.hex!==e});else{var r=n.props.initialColors.find(function(t){return t.hex===e});o=o.concat(r)}Promise.resolve(n.props.onSetData("selectedColors",o))},n.keyPressHandler=function(e){var t=[];32===e.keyCode&&(t=n.randoms_func(),Promise.resolve(n.props.onSetData("randomColors",t)))},n.randoms_func=function(){for(var e=0,t=[],o=n.props.initialColors.length;t.length<5;)e=Math.floor(Math.random()*(+o-0))+0,void 0===t.find(function(t){return t.hex===n.props.initialColors[e].hex})&&t.push(n.props.initialColors[e]);return t},n}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.resolve(this.checkStorage(S.BASE)).then(function(){document.addEventListener("keypress",e.keyPressHandler)})}},{key:"render",value:function(){var e=this;return this.props.isLoading?r.a.createElement("div",{className:"flex-column align-items-center"},r.a.createElement("h1",null,"loading ...")):r.a.createElement("div",null,r.a.createElement("span",{className:"flex-row hpx50",style:{zIndex:1,position:"absolute",top:50,left:0,right:0,backgroundColor:"#f8f9fa"}},r.a.createElement("span",{className:"flex-column col-12 col-sm-6 justify-content-center"},r.a.createElement("p",null,"Press the spacebar to generate a color scheme")),r.a.createElement("span",{className:"flex-column col-12 col-sm-6 justify-content-center"},r.a.createElement("ul",{className:"flex-row justify-content-end"},r.a.createElement(v.b,{to:"pdf/".concat(function(){var t=e.props.randomColors,n=[];return t.forEach(function(e){n.push(e.hex.slice(1))}),n}()),target:"_blank"},r.a.createElement("li",{className:"pxxs"},"Export pdf"))))),r.a.createElement(O,{gridContainerStyle:{maxWidth:"100%",height:"100vh"}},this.props.randomColors.map(function(t,n){return r.a.createElement("span",{key:n,style:{width:"20%",height:"100%",padding:0}},r.a.createElement("div",{className:"card hoverable flex-column align-items-center justify-content-center",onClick:function(){return e.itemSelectedHandler(t.hex)},style:{backgroundColor:t.hex?t.hex:null,width:"100%",height:"100%",borderRadius:0}},void 0!==(o=t.hex,e.props.selectedColors.find(function(e){return e.hex===o}))&&r.a.createElement(k.a,{style:{position:"absolute",top:100,right:10},size:20,color:"black"}),r.a.createElement("span",{style:{width:"100%",height:100}},r.a.createElement("p",{style:{paddingBottom:20,textAlign:"center",fontFamily:"Montserrat",fontSize:24,color:"rgba(0,0,0,.5)"}},t.hex),r.a.createElement("p",{style:{textAlign:"center",fontFamily:"Montserrat",fontSize:20,color:"rgba(0,0,0,.5)"}},t.name))));var o})))}}]),t}(o.Component),A=Object(c.b)(function(e){return{isLoading:e.ui.isLoading,initialColors:e.data.initialColors,selectedColors:e.data.selectedColors,randomColors:e.data.randomColors}},function(e){return{onSetKey:function(t,n){return e(function(e,t){return{type:"SET_KEY",key:e,value:t}}(t,n))},onSetData:function(t,n){return e(function(e,t){return{type:"SET_DATA",key:e,value:t}}(t,n))}}})(j),N=n(47),P=function(e){return r.a.createElement("div",{className:"container-fluid no-gutters align-items-center"},r.a.createElement(N.b,{className:"container-fluid no-gutters"},r.a.createElement(N.a,null,r.a.createElement(N.c,{orientation:"landscape",className:"container-fluid",style:{padding:80}},r.a.createElement(N.e,{style:{flexGrow:1,flexDirection:"row"}},function(){var t=[];e.match.params.scheme.split(",").forEach(function(e){t.push("#"+e)});var n=localStorage.getItem(S.BASE),o=[],r={};return null!==n&&(n=JSON.parse(n),t.forEach(function(e){r=n.find(function(t){return t.hex===e}),o.push(r)})),o}().map(function(e){return r.a.createElement(N.e,{style:{flex:1,height:400,padding:4}},r.a.createElement(N.e,{style:{backgroundColor:e.hex,width:"100%",height:"100%",justifyContent:"center"}},r.a.createElement(N.e,{style:{height:100}},r.a.createElement(N.d,{style:{textAlign:"center",fontSize:16,color:"rgba(0,0,0,.5)"}},e.hex),r.a.createElement(N.d,{style:{textAlign:"center",fontSize:16,color:"rgba(0,0,0,.25)"}},e.name))))}))))))},T=function(e){return r.a.createElement("nav",{className:"main hpx50",style:{backgroundColor:"#f8f9fa"}},r.a.createElement("a",{href:E.PROJECT_HOME,className:"brand off-white",style:{color:"#333333"}},"Palette"))},D=function(e){return r.a.createElement("div",{className:"container-fluid no-gutters",style:{height:"100vh"}},e.navBar?r.a.createElement(e.navBar):null,e.children)},H=function(e){var t=e.component,n=Object(p.a)(e,["component"]);return r.a.createElement(g.a,Object.assign({},n,{render:function(e){return r.a.createElement(D,Object.assign({},e,n),r.a.createElement(t,e))}}))},_=function(e){return r.a.createElement(v.a,null,r.a.createElement(g.c,null,r.a.createElement(H,Object.assign({path:E.PROJECT_HOME,navBar:T,component:A},e)),r.a.createElement(H,Object.assign({path:E.PROJECT_HOME+"/pdf/:scheme",component:P},e))))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(399);var J=m();i.a.render(r.a.createElement(c.a,{store:J},r.a.createElement(_,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/color-palette-project",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/color-palette-project","/service-worker.js");M?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):B(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):B(t,e)})}}()}},[[232,1,2]]]);
//# sourceMappingURL=main.d8f67d13.chunk.js.map